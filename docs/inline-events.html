<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Metal.js</title><meta name="theme-color" content="#9552ef"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/styles/main.css"><link rel="stylesheet" href="/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/vendor/codemirror/theme/material.css"><script src="/vendor/codemirror/lib/codemirror.js"></script><script src="/vendor/codemirror/mode/soy/soy.js"></script><script src="/vendor/codemirror/mode/javascript/javascript.js"></script><script src="http://use.typekit.net/qed5qir.js"></script><script>try{Typekit.load();}catch(e){}</script></head><body><header class="header"><div class="container"><div class="header-bg"></div><nav class="topbar"><a class="topbar-logo" href="/"><img class="topbar-logo-image" src="/images/logo_signature@2x.png" alt="Metal.js Logo" width="35" height="28"><h1 class="topbar-logo-text">Metal.js</h1></a><ul class="topbar-menu"><li class="topbar-menu-item"><a class="topbar-menu-link" href="/docs/">Documentation</a></li><li class="topbar-menu-item"><a class="rounded-icon topbar-icon-external" target="_blank" href="https://github.com/metal/metal"><img src="/images/github_icon.svg" alt="GitHub Icon" width="16"></a></li><li class="topbar-menu-item"><a class="rounded-icon topbar-icon-external" target="_blank" href="http://metaljs-chat.wedeploy.io/"><img src="/images/slack_icon.svg" alt="Slack Icon"></a></li></ul></nav></div></header><main class="docs"><div class="container"><div class="row"><nav class="docs-nav col-md-3"><p class="docs-nav-group">Quick Start</p><ul class="docs-nav-list"><li class="docs-nav-item"><a href="/docs/" class="docs-nav-link">Getting Started</a></li><li class="docs-nav-item"><a href="/docs/modal.html" class="docs-nav-link">Tutorial: Modal</a></li><li class="docs-nav-item"><a href="/docs/modal_events.html" class="docs-nav-link">Tutorial: Modal - Events</a></li><li class="docs-nav-item"><a href="/docs/modal_updates.html" class="docs-nav-link">Tutorial: Modal - Updates</a></li><li class="docs-nav-item"><a href="/docs/modal_nested.html" class="docs-nav-link">Tutorial: Modal - Nested Components</a></li><li class="docs-nav-item"><a href="/docs/modal_testing.html" class="docs-nav-link">Tutorial: Modal - Testing</a></li></ul><p class="docs-nav-group">Guides</p><ul class="docs-nav-list"><li class="docs-nav-item"><a href="/docs/alias.html" class="docs-nav-link">Alias</a></li><li class="docs-nav-item"><a href="/docs/state.html" class="docs-nav-link">State</a></li><li class="docs-nav-item"><a href="/docs/component-lifecycle.html" class="docs-nav-link">Component Lifecycle</a></li><li class="docs-nav-item"><a href="/docs/rendering-components.html" class="docs-nav-link">Rendering Components</a></li><li class="docs-nav-item"><a href="/docs/inline-events.html" class="docs-nav-link">Inline Events</a></li><li class="docs-nav-item"><a href="/docs/nested-components.html" class="docs-nav-link">Nested Components</a></li><li class="docs-nav-item"><a href="/docs/importing.html" class="docs-nav-link">Importing</a></li><li class="docs-nav-item"><a href="/docs/soy-components.html" class="docs-nav-link">Soy Components</a></li><li class="docs-nav-item"><a href="/docs/jsx-components.html" class="docs-nav-link">JSX Components</a></li><li class="docs-nav-item"><a href="/docs/progressive-enhancement.html" class="docs-nav-link">Progressive Enhancement</a></li><li class="docs-nav-item"><a href="/docs/yeoman-generator.html" class="docs-nav-link">Yeoman Generator</a></li><li class="docs-nav-item"><a href="/docs/building.html" class="docs-nav-link">Building</a></li><li class="docs-nav-item"><a href="/docs/performance.html" class="docs-nav-link">Performance</a></li></ul></nav><article class="docs-content col-md-6 col-md-offset-1"><h1>Inline Events</h1><p>Another feature Metal.js has that can be very useful is the ability to declare events inside templates, directly on the desired element. Besides being simple and intuitive, this feature allows Metal.js to handle attaching events itself, and so this can be done in the best way possible, with <a href="https://learn.jquery.com/events/event-delegation/">delegates</a> for example, without the user having worry about that at all. These events are also automatically detached when the component is disposed.</p><h2>Inline listeners - via function name</h2><p>You can add DOM event listeners easily through your templates, like this:</p><textarea class="code" data-mode="javascript">&lt;button onClick="close" type="button" class="close"&gt;</textarea><p>The above code declares that whenever the <strong>x</strong> button is clicked, the <code>close</code> function from the component should be called.</p><h2 id="function">Inline listeners - via function reference</h2><p>If you prefer though, you can also pass the actual function reference (instead of just its name) as an inline listener.</p><div class="code-tabs"><div class="code-tabs-header"><button class="code-tab selected" data-index="0" type="button">Soy: src/Modal.soy</button><button class="code-tab" data-index="1" type="button">JSX: src/Modal.js</button></div><div class="content"><textarea class="code" data-mode="x-soy">/**
 * In the "render" template, soy params that match a
 * component's function name will be that function
 * (automatically bound to the component instance).
 * @param close
 */
&lbrace;template .render&rbrace;
  // ...
  &lt;button onClick="{$close}" type="button" class="close"&gt;
  // ...
&lbrace;/template&rbrace;</textarea><textarea class="code hidden" data-mode="javascript">
&lt;button onClick={this.close.bind(this)} type="button" class="close"&gt;</textarea></div></div><p>That will work exactly the same way as the previous example.</p><h2>Inline listeners - nested components</h2><p>When using <a href="/docs/nested-components.html">nested components</a> it's also possible to inline events by using the <strong>events</strong> property:</p><div class="code-tabs"><div class="code-tabs-header"><button class="code-tab selected" data-index="0" type="button">Soy: src/Modal.soy</button><button class="code-tab" data-index="1" type="button">JSX: src/Modal.js</button></div><div class="content"><textarea class="code" data-mode="x-soy">&lbrace;call Button.render&rbrace;
  &lbrace;param events: ['click': ['selector': 'button', 'fn': 'close']] /&rbrace;
  &lbrace;param label: 'Ok' /&rbrace;
&lbrace;/call&rbrace;</textarea><textarea class="code hidden" data-mode="javascript">var events = {click: {
  selector: 'button',
  fn: 'close'
}};
&lt;Button events={events} label="Ok" /&gt;</textarea></div></div><p>This will cause the <code>close</code> function from the sub component to be called whenever a click event triggers for the elements that match the given selector.</p><p>In case you want to listen to the event with a function from the parent component, just pass the function reference instead of a string, like this:</p><div class="code-tabs"><div class="code-tabs-header"><button class="code-tab selected" data-index="0" type="button">Soy: src/Modal.soy</button><button class="code-tab" data-index="1" type="button">JSX: src/Modal.js</button></div><div class="content"><textarea class="code" data-mode="x-soy">&lbrace;call Button.render&rbrace;
  &lbrace;param events: ['click': ['selector': 'button', 'fn': $close]] /&rbrace;
  &lbrace;param label: 'Ok' /&rbrace;
&lbrace;/call&rbrace;</textarea><textarea class="code hidden" data-mode="javascript">var events = {click: {
  selector: 'button',
  fn: this.close.bind(this)
}};
&lt;Button events={events} label="Ok" /&gt;</textarea></div></div><p>Besides dom events, you can also listen to custom events from the sub component in this same way:</p><div class="code-tabs"><div class="code-tabs-header"><button class="code-tab selected" data-index="0" type="button">Soy: src/Modal.soy</button><button class="code-tab" data-index="1" type="button">JSX: src/Modal.js</button></div><div class="content"><textarea class="code" data-mode="x-soy">&lbrace;call Button.render&rbrace;
  &lbrace;param events: ['labelChanged': $handleLabelChanged] /&rbrace;
  &lbrace;param label: 'Ok' /&rbrace;
&lbrace;/call&rbrace;</textarea><textarea class="code hidden" data-mode="javascript">var events = {labelChanged: this.handleLabelChanged.bind(this)};
&lt;Button events={events} label="Ok" /&gt;</textarea></div></div><h2>Inline listeners - alternative usage</h2><p>Besides the <code>on[EventName]</code> format you can also use <code>data-on[eventname]</code> for adding inline listeners. For example:</p><textarea class="code" data-mode="javascript">&lt;button data-onclick="close" type="button" class="close"&gt;</textarea><p>Note that this format is supported mainly to enable doing <a href="/docs/progressive-enhancement.html">progressive enhancement</a>, when running soy templates via Java for example. When templates using the <code>on[EventName]</code> format run in Java they will output elements with these as actual attributes, which can cause errors in the browser. In JavaScript these are used as element properties instead, so this problem doesn't occur.</p><p>So feel free to use the format you like best, or that better fits your needs.</p></article></div></div></main><footer class="footer"><div class="container"><p class="footer-paragraph"><span class="footer-credits"><a class="rounded-icon footer-icon-liferay" target="_blank" href="http://liferay.com/"><img src="/images/liferay_logo.svg" alt="Liferay Icon" width="19" height="19"></a>Brought to you by <a class="footer-link" target="_blank" href="http://liferay.com/">Liferay, Inc</a>.</span><span class="footer-license"><a class="footer-link" target="_blank" href="https://github.com/metal/metal/blob/master/LICENSE.md">BSD</a> License.</span></p></div></footer><script src="/scripts/highlight.js"></script><script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-37033501-7', 'auto');
	ga('send', 'pageview');</script></body></html>