<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Metal.js</title><meta name="theme-color" content="#9552ef"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/styles/main.css"><link rel="stylesheet" href="/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/vendor/codemirror/theme/material.css"><script src="/vendor/codemirror/lib/codemirror.js"></script><script src="/vendor/codemirror/mode/soy/soy.js"></script><script src="/vendor/codemirror/mode/javascript/javascript.js"></script><script src="http://use.typekit.net/qed5qir.js"></script><script>try{Typekit.load();}catch(e){}</script></head><body><header class="header"><div class="container"><div class="header-bg"></div><nav class="topbar"><a class="topbar-logo" href="/"><img class="topbar-logo-image" src="/images/logo_signature@2x.png" alt="Metal.js Logo" width="35" height="28"><h1 class="topbar-logo-text">Metal.js</h1></a><ul class="topbar-menu"><li class="topbar-menu-item"><a class="topbar-menu-link" href="/docs/">Documentation</a></li><li class="topbar-menu-item"><a class="rounded-icon topbar-icon-github" target="_blank" href="https://github.com/metal/metal"><img src="/images/github_icon.svg" alt="GitHub Icon" width="16"></a></li></ul></nav></div></header><main class="docs"><div class="container"><div class="row"><nav class="docs-nav col-md-3"><p class="docs-nav-group">Quick Start</p><ul class="docs-nav-list"><li class="docs-nav-item"><a href="/docs/" class="docs-nav-link">Getting Started</a></li><li class="docs-nav-item"><a href="/docs/modal.html" class="docs-nav-link">Tutorial: Modal</a></li><li class="docs-nav-item"><a href="/docs/modal_events.html" class="docs-nav-link">Tutorial: Modal - Events</a></li><li class="docs-nav-item"><a href="/docs/modal_updates.html" class="docs-nav-link">Tutorial: Modal - Updates</a></li><li class="docs-nav-item"><a href="/docs/modal_nested.html" class="docs-nav-link">Tutorial: Modal - Nested Components</a></li><li class="docs-nav-item"><a href="/docs/modal_testing.html" class="docs-nav-link">Tutorial: Modal - Testing</a></li></ul><p class="docs-nav-group">Guides</p><ul class="docs-nav-list"><li class="docs-nav-item"><a href="/docs/alias.html" class="docs-nav-link">Alias</a></li><li class="docs-nav-item"><a href="/docs/state.html" class="docs-nav-link">State</a></li><li class="docs-nav-item"><a href="/docs/component-lifecycle.html" class="docs-nav-link">Component Lifecycle</a></li><li class="docs-nav-item"><a href="/docs/rendering-components.html" class="docs-nav-link">Rendering Components</a></li><li class="docs-nav-item"><a href="/docs/inline-events.html" class="docs-nav-link">Inline Events</a></li><li class="docs-nav-item"><a href="/docs/nested-components.html" class="docs-nav-link">Nested Components</a></li><li class="docs-nav-item"><a href="/docs/importing.html" class="docs-nav-link">Importing</a></li><li class="docs-nav-item"><a href="/docs/soy-components.html" class="docs-nav-link">Soy Components</a></li><li class="docs-nav-item"><a href="/docs/jsx-components.html" class="docs-nav-link">JSX Components</a></li><li class="docs-nav-item"><a href="/docs/progressive-enhancement.html" class="docs-nav-link">Progressive Enhancement</a></li><li class="docs-nav-item"><a href="/docs/yeoman-generator.html" class="docs-nav-link">Yeoman Generator</a></li><li class="docs-nav-item"><a href="/docs/building.html" class="docs-nav-link">Building</a></li><li class="docs-nav-item"><a href="/docs/performance.html" class="docs-nav-link">Performance</a></li></ul></nav><article class="docs-content col-md-6 col-md-offset-1"><h1>Soy Components</h1><p>For a full tutorial on how to build components using soy templates, make sure to follow the <a href="/docs/modal.html">Modal tutorial</a> section.</p><p>This guide will explain some details about the integration between <strong>Metal.js</strong> components and <a href="http://developers.google.com/closure/templates/">soy templates</a>.</p><p>Note that <strong>Metal.js</strong> is template agnostic, so it's not necessary to use soy at all. That said, we already provide a very good integration between metal components and soy, so if you like this template language you should give it a try.</p><h2>Soy.register</h2><p>The only thing you need to do to use soy templates in your <strong>Metal.js</strong> component is to call <code>Soy.register</code>, passing it your component class and the soy templates you're going to use, like this:</p><textarea class="code" data-mode="javascript">import templates from './MyComponent.soy';
import Component from 'metal-component';
import Soy from 'metal-soy';

class MyComponent extends Component {
}
Soy.register(MyComponent, templates);

export default MyComponent;</textarea><p>By default, <strong>Metal.js</strong> will use the soy template called <strong>render</strong> as the entry point for rendering. But you can tell us to use a different one if you prefer by passing the name as the last param to the <code>Soy.register</code> call, like this:</p><textarea class="code" data-mode="javascript">Soy.register(MyComponent, templates, 'templateName');</textarea><h2>Template file</h2><p>Make sure that your soy file has the entry point template (<strong>render</strong> by default), otherwise nothing will be rendered.</p><p>This main template will receive as data a combination of:<ul><li><a href="/docs/state.html">State data</a></li><li><a href="/docs/state.html#config">Configuration data</a> (accessed through <code>this.config</code>)</li><li><a href="/docs/inline-events.html#function">Component functions</a></li></ul></p><p>Note that by default all params declared on the component's main soy template are automatically configured as state properties as well, but without any special configurations (like initial value or validators). If they're <a href="/docs/state.html">manually defined</a> through the <code>STATE</code> property they will retain the setup specified there though.</p><p>Any params passed to the component but not directly declared on its main soy template will be treated as basic configuration data, meaning that changes to them will not automatically rerender the component. They can still be passed down to other templates using <code>data="all"</code>, as well be accessed via the <code>config</code> property on the js file.</p><textarea class="code" data-mode="javascript">// Contains all the data received by the component.
this.config</textarea><h2>Soy compilation</h2><p>For the integration between <strong>Metal.js</strong> and <strong>soy</strong> to work, the soy files need to be compiled via one of our available build tools. That's because they don't just compile the code, but also add some information that help with the integration (like export declarations).</p><p>The available build tools that correctly compile soy for <strong>Metal.js</strong> are:</p><ul><li><p><a href="http://npmjs.com/package/gulp-metal">gulp-metal</a> (already included when creating project via <a href="/docs/yeoman-generator.html">generator-metal</a>).</p></li><li><p><a href="http://npmjs.com/package/metal-cli">metal-cli</a></p></li><li><p><a href="http://npmjs.com/package/metal-tools-soy">metal-tools-soy</a></p></li></ul></article></div></div></main><footer class="footer"><div class="container"><p class="footer-paragraph"><span class="footer-credits"><a class="rounded-icon footer-icon-liferay" target="_blank" href="http://liferay.com/"><img src="/images/liferay_logo.svg" alt="Liferay Icon" width="19" height="19"></a>Brought to you by <a class="footer-link" target="_blank" href="http://liferay.com/">Liferay, Inc</a>.</span><span class="footer-license"><a class="footer-link" target="_blank" href="https://github.com/metal/metal/blob/master/LICENSE.md">BSD</a> License.</span></p></div></footer><script src="/scripts/highlight.js"></script></body></html>